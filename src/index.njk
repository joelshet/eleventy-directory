---
title: My Awesome Directory
layout: layout.njk
---

<div>
<h2>Map</h2>
<div id="map"></div>
</div>

<div>
<h2>Search</h2>
<input
  type="search"
  name="q"
  placeholder="Search for an item... (Press '/' to focus)"
  hx-post="/.netlify/functions/search"
  hx-trigger="keyup changed delay:300ms"
  hx-target="#directory-results"
/>
</div>

<div>
<h2>Items</h2>
<div id="directory-results" class="directory-grid">
  {% for item in directory %}
    {% include "item-card.njk" %}
  {% endfor %}
</div>
</div>

{# Pass location data to our client-side map script #}
<script>
  const locations = {{ directory | dump | safe }};
</script>
<script src="/js/map.js" defer></script> 